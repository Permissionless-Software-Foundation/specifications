# Claims

## Permissionless Software Foundation Specification 006 (PS006)

### Specification version: 1.0.0

### Date originally published: December 21, 2022

### Date last updated: December 21, 2022

## Authors

Chris Troutner

## Acknowledgments

- This document refines the 'Claims' concept laid out in [PS006 Simple Store Protocol](./ps006-simple-store-protocol.md)
- This specification leverages the [Lokad ID](https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/op_return-prefix-guideline.md). A [pull request](https://github.com/bitcoincashorg/bitcoincash.org/pull/690) has been submitted to identify this protocol with Lokad ID `0x00504d00`.

## 1. Introduction

**Claims** are statements placed onto the blockchain, which are cryptographically signed by the originator. Claims can be product reviews, store reviews, metadata, or can refer to other Claims. Their data structure is based on the [Review schema](https://schema.org/Review).

Claims always refer to a Token, or to another Claim. Claims are a way to leave on-chain metadata about Tokens (or other Claims).

## 2. Claims

Claims are primarily used to leave reviews or comments about a [SLP token](https://github.com/simpleledger/slp-specifications/blob/master/slp-token-type-1.md). However, Claims can reference other Claims. For example, a Token owner can generate a Claim to respond to a Claim generated by someone else.

Claims are not tokens. Instead they are transactions on the blockchain that leverage the [Lokad ID specification](https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/op_return-prefix-guideline.md). Because they are transactions, they are cryptographically signed by the owner of a Bitcoin address ([nonrepudiation](https://www.techtarget.com/searchsecurity/definition/nonrepudiation)), and once created, they immutable and uncensorable. Claims provide rich metadata and social history for tokens.

### 2.1 Claim Examples
The protocol for generating a Claim within is inspired by the [Simple Ledger Protocol](https://github.com/simpleledger/slp-specifications/blob/master/slp-token-type-1.md) and the [memo.cash protocol](https://memo.cash/protocol):

- The protocol uses P2PKH addresses. Actions are saved using OP_RETURN.
- Message data is UTF-8 encoded, with the exception of the Lokad ID prefix of 0x00504d00 (hex)
- OP_RETURN outputs *must be* the **first** output in the transaction.

### 2.1.1 Example for making a Claim about a Token:

The most typical use-case for a Claim is to leave a review about a Token. The first output of the transaction would be formatted like this:

`OP_RETURN 0x00504d00 0x0000 7ce786b1b975c53c474764ca136f60bcf9dd438a1d0c01d94821f804c7b09749 ipfs://bafybeif253afapbm23cq5mujt4pw2mb22lijwppgu57o2obqms5z2x54lu`

The claim is split into 'chunks', separated by spaces above. Here is the breakdown:
- 0x00504d00 is the Lokad ID for SSP
- 0x0000 is a 2-byte prefix, which can be used to expand this protocol in the future.
- [7ce786b1b975c53c474764ca136f60bcf9dd438a1d0c01d94821f804c7b09749](https://token.fullstack.cash/?tokenid=7ce786b1b975c53c474764ca136f60bcf9dd438a1d0c01d94821f804c7b09749) is the token ID for the token.
- [ipfs://bafybeif253afapbm23cq5mujt4pw2mb22lijwppgu57o2obqms5z2x54lu](https://bafybeif253afapbm23cq5mujt4pw2mb22lijwppgu57o2obqms5z2x54lu.ipfs.dweb.link/data.json) - is JSON data containing the claim information, stored on the IPFS network.

### 2.1.2 Example for making a Claim about another Claim:

Token holders and other users can respond to Claims, by generating a new Claim that references another Claim. The first output of the transaction would be formatted like this:

`OP_RETURN 0x0504d00 0x0000 04c3ecfc12097d680c2c5f4a82984b3e75609da3105123a95d1c1dff8e6f1a4f ipfs://bafybeif253afapbm23cq5mujt4pw2mb22lijwppgu57o2obqms5z2x54lu`

The claim takes the same format, but has slightly different context:
- 0x00504d00 is the Lokad ID for SSP
- 0x0000 is a 2-byte prefix, which can be used to expand this protocol in the future.
- [04c3ecfc12097d680c2c5f4a82984b3e75609da3105123a95d1c1dff8e6f1a4f](https://token.fullstack.cash/?tokenid=04c3ecfc12097d680c2c5f4a82984b3e75609da3105123a95d1c1dff8e6f1a4f) is the transaction ID of the original Claim.
- [ipfs://bafybeif253afapbm23cq5mujt4pw2mb22lijwppgu57o2obqms5z2x54lu](https://bafybeif253afapbm23cq5mujt4pw2mb22lijwppgu57o2obqms5z2x54lu.ipfs.dweb.link/data.json) - is JSON data containing the Claim information, stored on the IPFS network.

## 3. Data Storage

This section defines the prefixes and data storage used by Claims.

- The `ipfs://` prefix indicates that the data is stored on the IPFS network and is referenced by a [CID](https://docs.ipfs.tech/concepts/content-addressing/). This data should be able to be retrieved through any public IPFS gateway.
- The `p2wdb://` prefix indicates that the data can be retrieved from the [pay-to-write database (P2WDB)](https://p2wdb.com). These also use a CID, which starts with the letter 'z'. These are [OrbitDB](https://github.com/orbitdb/orbit-db) CIDs. The data can be retrieved from any instance of the P2WDB.
